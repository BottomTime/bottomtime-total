import { AccountTier } from '@bottomtime/api';

import { Stripe } from 'stripe';

export const StripeSubscriptionCanceledEvent = {
  id: 'evt_1PvjPsI1ADsIvyhFE6vdMgDS',
  object: 'event',
  api_version: '2024-06-20',
  created: 1725557060,
  data: {
    object: {
      id: 'sub_1PvjL2I1ADsIvyhFXEkSRAlT',
      object: 'subscription',
      application: null,
      application_fee_percent: null,
      automatic_tax: { enabled: false, liability: null },
      billing_cycle_anchor: 1725556760,
      billing_cycle_anchor_config: null,
      billing_thresholds: null,
      cancel_at: null,
      cancel_at_period_end: false,
      canceled_at: 1725557060,
      cancellation_details: {
        comment: null,
        feedback: null,
        reason: 'cancellation_requested',
      },
      collection_method: 'charge_automatically',
      created: 1725556760,
      currency: 'cad',
      current_period_end: 1757092760,
      current_period_start: 1725556760,
      customer: 'cus_QmXFUbI33k0i4V',
      days_until_due: null,
      default_payment_method: 'pm_1PvjLMI1ADsIvyhFUPgkLAGE',
      default_source: null,
      default_tax_rates: [],
      description: null,
      discount: null,
      discounts: [],
      ended_at: 1725557060,
      invoice_settings: { account_tax_ids: null, issuer: { type: 'self' } },
      items: {
        object: 'list',
        data: [
          {
            id: 'si_QnJzhTRi5JwTBJ',
            object: 'subscription_item',
            billing_thresholds: null,
            created: 1725556761,
            discounts: [],
            metadata: {},
            plan: {
              id: 'price_1PsovKI1ADsIvyhFdKdp73az',
              object: 'plan',
              active: true,
              aggregate_usage: null,
              amount: 4000,
              amount_decimal: '4000',
              billing_scheme: 'per_unit',
              created: 1724863246,
              currency: 'cad',
              interval: 'year',
              interval_count: 1,
              livemode: false,
              metadata: {},
              meter: null,
              nickname: null,
              product: 'prod_QkJYEviTgo1LFV',
              tiers_mode: null,
              transform_usage: null,
              trial_period_days: null,
              usage_type: 'licensed',
            },
            price: {
              id: 'price_1PsovKI1ADsIvyhFdKdp73az',
              object: 'price',
              active: true,
              billing_scheme: 'per_unit',
              created: 1724863246,
              currency: 'cad',
              custom_unit_amount: null,
              livemode: false,
              lookup_key: 'pro-membership-yearly',
              metadata: {},
              nickname: null,
              product: 'prod_QkJYEviTgo1LFV',
              recurring: {
                aggregate_usage: null,
                interval: 'year',
                interval_count: 1,
                meter: null,
                trial_period_days: null,
                usage_type: 'licensed',
              },
              tax_behavior: 'exclusive',
              tiers_mode: null,
              transform_quantity: null,
              type: 'recurring',
              unit_amount: 4000,
              unit_amount_decimal: '4000',
            },
            quantity: 1,
            subscription: 'sub_1PvjL2I1ADsIvyhFXEkSRAlT',
            tax_rates: [],
          },
        ],
        has_more: false,
        total_count: 1,
        url: '/v1/subscription_items?subscription=sub_1PvjL2I1ADsIvyhFXEkSRAlT',
      },
      latest_invoice: 'in_1PvjL2I1ADsIvyhFmxVNmqeS',
      livemode: false,
      metadata: {},
      next_pending_invoice_item_invoice: null,
      on_behalf_of: null,
      pause_collection: null,
      payment_settings: {
        payment_method_options: null,
        payment_method_types: null,
        save_default_payment_method: 'on_subscription',
      },
      pending_invoice_item_interval: null,
      pending_setup_intent: null,
      pending_update: null,
      plan: {
        id: 'price_1PsovKI1ADsIvyhFdKdp73az',
        object: 'plan',
        active: true,
        aggregate_usage: null,
        amount: 4000,
        amount_decimal: '4000',
        billing_scheme: 'per_unit',
        created: 1724863246,
        currency: 'cad',
        interval: 'year',
        interval_count: 1,
        livemode: false,
        metadata: {},
        meter: null,
        nickname: null,
        product: 'prod_QkJYEviTgo1LFV',
        tiers_mode: null,
        transform_usage: null,
        trial_period_days: null,
        usage_type: 'licensed',
      },
      quantity: 1,
      schedule: null,
      start_date: 1725556760,
      status: 'canceled',
      test_clock: null,
      transfer_data: null,
      trial_end: null,
      trial_settings: {
        end_behavior: { missing_payment_method: 'create_invoice' },
      },
      trial_start: null,
    },
  },
  livemode: false,
  pending_webhooks: 3,
  request: { id: 'req_wKAPruoU2JO3Dg', idempotency_key: null },
  type: 'customer.subscription.deleted',
} as const as Stripe.Event;

export function getEntitlementsChangedEvent(
  accountTier: AccountTier,
): Stripe.Event {
  const entitlements: Stripe.ApiList<Stripe.Entitlements.ActiveEntitlement>['data'] =
    [];

  if (accountTier >= AccountTier.Pro) {
    entitlements.push({
      id: 'ent_test_61R4JjBxiz4U6izKX41I1ADsIvyhFIeu',
      object: 'entitlements.active_entitlement',
      feature: 'feat_test_61R2CsfThAcdfeeBM41I1ADsIvyhF7Bg',
      livemode: false,
      lookup_key: 'pro-features',
    });
  }
  if (accountTier >= AccountTier.ShopOwner) {
    entitlements.push({
      id: 'ent_test_61R4JjBC63NBBtGZU41I1ADsIvyhFDDc',
      object: 'entitlements.active_entitlement',
      feature: 'feat_test_61R2Csf7FLdIaHIkS41I1ADsIvyhFBi4',
      livemode: false,
      lookup_key: 'shop-owner-features',
    });
  }

  return {
    id: 'evt_1Pze2ZI1ADsIvyhF7TVp7JPu',
    object: 'event',
    api_version: '2024-06-20',
    created: 1726489707,
    data: {
      object: {
        object: 'entitlements.active_entitlement_summary',
        customer: 'cus_QmXFUbI33k0i4V',
        entitlements: {
          object: 'list',
          data: entitlements,
          has_more: false,
          url: '/v1/customer/cus_QmXFUbI33k0i4V/entitlements',
        },
        livemode: false,
      },
      previous_attributes: {
        entitlements: {
          object: 'list',
          data: [],
          has_more: false,
          url: '/v1/customer/cus_QmXFUbI33k0i4V/entitlements',
        },
      },
    },
    livemode: false,
    pending_webhooks: 2,
    request: { id: null, idempotency_key: null },
    type: 'entitlements.active_entitlement_summary.updated',
  };
}

export const StripeSubcriptionChangedEvent = {
  id: 'evt_1PzdXLI1ADsIvyhFNjuBokJJ',
  object: 'event',
  api_version: '2024-06-20',
  created: 1726487771,
  data: {
    object: {
      id: 'sub_1PzdTJI1ADsIvyhF4rBFoCtg',
      object: 'subscription',
      application: null,
      application_fee_percent: null,
      automatic_tax: { enabled: false, liability: null },
      billing_cycle_anchor: 1726487521,
      billing_cycle_anchor_config: null,
      billing_thresholds: null,
      cancel_at: null,
      cancel_at_period_end: false,
      canceled_at: null,
      cancellation_details: { comment: null, feedback: null, reason: null },
      collection_method: 'charge_automatically',
      created: 1726487521,
      currency: 'cad',
      current_period_end: 1758023521,
      current_period_start: 1726487521,
      customer: 'cus_QmXFUbI33k0i4V',
      days_until_due: null,
      default_payment_method: null,
      default_source: null,
      default_tax_rates: [],
      description: null,
      discount: null,
      discounts: [],
      ended_at: null,
      invoice_settings: { account_tax_ids: null, issuer: { type: 'self' } },
      items: {
        object: 'list',
        data: [
          {
            id: 'si_QrMBUantSSMkbc',
            object: 'subscription_item',
            billing_thresholds: null,
            created: 1726487521,
            discounts: [],
            metadata: {},
            plan: {
              id: 'price_1PsovKI1ADsIvyhFdKdp73az',
              object: 'plan',
              active: true,
              aggregate_usage: null,
              amount: 4000,
              amount_decimal: '4000',
              billing_scheme: 'per_unit',
              created: 1724863246,
              currency: 'cad',
              interval: 'year',
              interval_count: 1,
              livemode: false,
              metadata: {},
              meter: null,
              nickname: null,
              product: 'prod_QkJYEviTgo1LFV',
              tiers_mode: null,
              transform_usage: null,
              trial_period_days: null,
              usage_type: 'licensed',
            },
            price: {
              id: 'price_1PsovKI1ADsIvyhFdKdp73az',
              object: 'price',
              active: true,
              billing_scheme: 'per_unit',
              created: 1724863246,
              currency: 'cad',
              custom_unit_amount: null,
              livemode: false,
              lookup_key: 'pro-membership-yearly',
              metadata: {},
              nickname: null,
              product: 'prod_QkJYEviTgo1LFV',
              recurring: {
                aggregate_usage: null,
                interval: 'year',
                interval_count: 1,
                meter: null,
                trial_period_days: null,
                usage_type: 'licensed',
              },
              tax_behavior: 'exclusive',
              tiers_mode: null,
              transform_quantity: null,
              type: 'recurring',
              unit_amount: 4000,
              unit_amount_decimal: '4000',
            },
            quantity: 1,
            subscription: 'sub_1PzdTJI1ADsIvyhF4rBFoCtg',
            tax_rates: [],
          },
        ],
        has_more: false,
        total_count: 1,
        url: '/v1/subscription_items?subscription=sub_1PzdTJI1ADsIvyhF4rBFoCtg',
      },
      latest_invoice: 'in_1PzdTJI1ADsIvyhFH1I2AWsq',
      livemode: false,
      metadata: {},
      next_pending_invoice_item_invoice: null,
      on_behalf_of: null,
      pause_collection: null,
      payment_settings: {
        payment_method_options: null,
        payment_method_types: null,
        save_default_payment_method: 'on_subscription',
      },
      pending_invoice_item_interval: null,
      pending_setup_intent: 'seti_1PzdTJI1ADsIvyhFbtPw5vq2',
      pending_update: null,
      plan: {
        id: 'price_1PsovKI1ADsIvyhFdKdp73az',
        object: 'plan',
        active: true,
        aggregate_usage: null,
        amount: 4000,
        amount_decimal: '4000',
        billing_scheme: 'per_unit',
        created: 1724863246,
        currency: 'cad',
        interval: 'year',
        interval_count: 1,
        livemode: false,
        metadata: {},
        meter: null,
        nickname: null,
        product: 'prod_QkJYEviTgo1LFV',
        tiers_mode: null,
        transform_usage: null,
        trial_period_days: null,
        usage_type: 'licensed',
      },
      quantity: 1,
      schedule: null,
      start_date: 1726487521,
      status: 'active',
      test_clock: null,
      transfer_data: null,
      trial_end: null,
      trial_settings: {
        end_behavior: { missing_payment_method: 'create_invoice' },
      },
      trial_start: null,
    },
    previous_attributes: {
      items: {
        data: [
          {
            id: 'si_QrMBUantSSMkbc',
            object: 'subscription_item',
            billing_thresholds: null,
            created: 1726487521,
            discounts: [],
            metadata: {},
            plan: {
              id: 'price_1PsovKI1ADsIvyhFKcf9UONp',
              object: 'plan',
              active: true,
              aggregate_usage: null,
              amount: 10000,
              amount_decimal: '10000',
              billing_scheme: 'per_unit',
              created: 1724863246,
              currency: 'cad',
              interval: 'year',
              interval_count: 1,
              livemode: false,
              metadata: {},
              meter: null,
              nickname: null,
              product: 'prod_QkJY1lokZ5DM42',
              tiers_mode: null,
              transform_usage: null,
              trial_period_days: null,
              usage_type: 'licensed',
            },
            price: {
              id: 'price_1PsovKI1ADsIvyhFKcf9UONp',
              object: 'price',
              active: true,
              billing_scheme: 'per_unit',
              created: 1724863246,
              currency: 'cad',
              custom_unit_amount: null,
              livemode: false,
              lookup_key: 'shop-owner-membership-yearly',
              metadata: {},
              nickname: null,
              product: 'prod_QkJY1lokZ5DM42',
              recurring: {
                aggregate_usage: null,
                interval: 'year',
                interval_count: 1,
                meter: null,
                trial_period_days: null,
                usage_type: 'licensed',
              },
              tax_behavior: 'exclusive',
              tiers_mode: null,
              transform_quantity: null,
              type: 'recurring',
              unit_amount: 10000,
              unit_amount_decimal: '10000',
            },
            quantity: 1,
            subscription: 'sub_1PzdTJI1ADsIvyhF4rBFoCtg',
            tax_rates: [],
          },
        ],
      },
      plan: {
        id: 'price_1PsovKI1ADsIvyhFKcf9UONp',
        amount: 10000,
        amount_decimal: '10000',
        product: 'prod_QkJY1lokZ5DM42',
      },
    },
  },
  livemode: false,
  pending_webhooks: 2,
  request: {
    id: 'req_elcywMRRzzr5As',
    idempotency_key: 'stripe-node-retry-64b0e6c7-3156-4e82-8d45-79e442a59242',
  },
  type: 'customer.subscription.updated',
} as const as Stripe.SubscriptionUpdateParams;

export const StripeTrialWillEndEvent = {
  id: 'evt_1Pzg9UI1ADsIvyhFFEEt6IRT',
  object: 'event',
  api_version: '2024-06-20',
  created: 1726497824,
  data: {
    object: {
      id: 'sub_1Pzg8mI1ADsIvyhFRX1JkZsA',
      object: 'subscription',
      application: null,
      application_fee_percent: null,
      automatic_tax: { enabled: false, liability: null },
      billing_cycle_anchor: 1726584180,
      billing_cycle_anchor_config: null,
      billing_thresholds: null,
      cancel_at: null,
      cancel_at_period_end: false,
      canceled_at: null,
      cancellation_details: { comment: null, feedback: null, reason: null },
      collection_method: 'charge_automatically',
      created: 1726497780,
      currency: 'usd',
      current_period_end: 1726584180,
      current_period_start: 1726497780,
      customer: 'cus_QmXFUbI33k0i4V',
      days_until_due: null,
      default_payment_method: null,
      default_source: null,
      default_tax_rates: [],
      description: null,
      discount: null,
      discounts: [],
      ended_at: null,
      invoice_settings: { account_tax_ids: null, issuer: { type: 'self' } },
      items: {
        object: 'list',
        data: [
          {
            id: 'si_QrOwHoTHU3zxXJ',
            object: 'subscription_item',
            billing_thresholds: null,
            created: 1726497781,
            discounts: [],
            metadata: {},
            plan: {
              id: 'price_1Pzg8mI1ADsIvyhFradACT4x',
              object: 'plan',
              active: true,
              aggregate_usage: null,
              amount: 1500,
              amount_decimal: '1500',
              billing_scheme: 'per_unit',
              created: 1726497780,
              currency: 'usd',
              interval: 'month',
              interval_count: 1,
              livemode: false,
              metadata: {},
              meter: null,
              nickname: null,
              product: 'prod_QrOwCErnTEuPhG',
              tiers_mode: null,
              transform_usage: null,
              trial_period_days: null,
              usage_type: 'licensed',
            },
            price: {
              id: 'price_1Pzg8mI1ADsIvyhFradACT4x',
              object: 'price',
              active: true,
              billing_scheme: 'per_unit',
              created: 1726497780,
              currency: 'usd',
              custom_unit_amount: null,
              livemode: false,
              lookup_key: null,
              metadata: {},
              nickname: null,
              product: 'prod_QrOwCErnTEuPhG',
              recurring: {
                aggregate_usage: null,
                interval: 'month',
                interval_count: 1,
                meter: null,
                trial_period_days: null,
                usage_type: 'licensed',
              },
              tax_behavior: 'unspecified',
              tiers_mode: null,
              transform_quantity: null,
              type: 'recurring',
              unit_amount: 1500,
              unit_amount_decimal: '1500',
            },
            quantity: 1,
            subscription: 'sub_1Pzg8mI1ADsIvyhFRX1JkZsA',
            tax_rates: [],
          },
        ],
        has_more: false,
        total_count: 1,
        url: '/v1/subscription_items?subscription=sub_1Pzg8mI1ADsIvyhFRX1JkZsA',
      },
      latest_invoice: 'in_1Pzg8mI1ADsIvyhFRYgd1Tg7',
      livemode: false,
      metadata: {},
      next_pending_invoice_item_invoice: null,
      on_behalf_of: null,
      pause_collection: null,
      payment_settings: {
        payment_method_options: null,
        payment_method_types: null,
        save_default_payment_method: 'off',
      },
      pending_invoice_item_interval: null,
      pending_setup_intent: 'seti_1Pzg8mI1ADsIvyhFxAUkk3Rj',
      pending_update: null,
      plan: {
        id: 'price_1Pzg8mI1ADsIvyhFradACT4x',
        object: 'plan',
        active: true,
        aggregate_usage: null,
        amount: 1500,
        amount_decimal: '1500',
        billing_scheme: 'per_unit',
        created: 1726497780,
        currency: 'usd',
        interval: 'month',
        interval_count: 1,
        livemode: false,
        metadata: {},
        meter: null,
        nickname: null,
        product: 'prod_QrOwCErnTEuPhG',
        tiers_mode: null,
        transform_usage: null,
        trial_period_days: null,
        usage_type: 'licensed',
      },
      quantity: 1,
      schedule: null,
      start_date: 1726497780,
      status: 'trialing',
      test_clock: null,
      transfer_data: null,
      trial_end: 1726584180,
      trial_settings: {
        end_behavior: { missing_payment_method: 'create_invoice' },
      },
      trial_start: 1726497780,
    },
  },
  livemode: false,
  pending_webhooks: 2,
  request: { id: null, idempotency_key: null },
  type: 'customer.subscription.trial_will_end',
} as const as Stripe.Event;

export const StripeInvoiceCreatedEvent = {
  id: 'evt_1PzglYI1ADsIvyhF6FpZvcW5',
  object: 'event',
  api_version: '2024-06-20',
  created: 1726500184,
  data: {
    object: {
      id: 'in_1PzglYI1ADsIvyhF7p1yGlM6',
      object: 'invoice',
      account_country: 'CA',
      account_name: 'staging.bottomti.me',
      account_tax_ids: null,
      amount_due: 2000,
      amount_paid: 0,
      amount_remaining: 2000,
      amount_shipping: 0,
      application: null,
      application_fee_amount: null,
      attempt_count: 0,
      attempted: false,
      auto_advance: false,
      automatic_tax: { enabled: false, liability: null, status: null },
      automatically_finalizes_at: null,
      billing_reason: 'manual',
      charge: null,
      collection_method: 'charge_automatically',
      created: 1726500184,
      currency: 'usd',
      custom_fields: null,
      customer: 'cus_QrPaOhRTeK7Yi8',
      customer_address: null,
      customer_email: null,
      customer_name: null,
      customer_phone: null,
      customer_shipping: null,
      customer_tax_exempt: 'none',
      customer_tax_ids: [],
      default_payment_method: null,
      default_source: null,
      default_tax_rates: [],
      description: '(created by Stripe CLI)',
      discount: null,
      discounts: [],
      due_date: null,
      effective_at: null,
      ending_balance: null,
      footer: null,
      from_invoice: null,
      hosted_invoice_url: null,
      invoice_pdf: null,
      issuer: { type: 'self' },
      last_finalization_error: null,
      latest_revision: null,
      lines: {
        object: 'list',
        data: [
          {
            id: 'il_1PzglYI1ADsIvyhFtaXxOcCc',
            object: 'line_item',
            amount: 2000,
            amount_excluding_tax: 2000,
            currency: 'usd',
            description: '(created by Stripe CLI)',
            discount_amounts: [],
            discountable: true,
            discounts: [],
            invoice: 'in_1PzglYI1ADsIvyhF7p1yGlM6',
            invoice_item: 'ii_1PzglYI1ADsIvyhFR7pND25H',
            livemode: false,
            metadata: {},
            period: { end: 1726500184, start: 1726500184 },
            plan: null,
            price: {
              id: 'price_1PzglYI1ADsIvyhFRTospYfY',
              object: 'price',
              active: false,
              billing_scheme: 'per_unit',
              created: 1726500184,
              currency: 'usd',
              custom_unit_amount: null,
              livemode: false,
              lookup_key: null,
              metadata: {},
              nickname: null,
              product: 'prod_QrPaGNTx3h9ko4',
              recurring: null,
              tax_behavior: 'unspecified',
              tiers_mode: null,
              transform_quantity: null,
              type: 'one_time',
              unit_amount: 2000,
              unit_amount_decimal: '2000',
            },
            proration: false,
            proration_details: { credited_items: null },
            quantity: 1,
            subscription: null,
            tax_amounts: [],
            tax_rates: [],
            type: 'invoiceitem',
            unit_amount_excluding_tax: '2000',
          },
        ],
        has_more: false,
        total_count: 1,
        url: '/v1/invoices/in_1PzglYI1ADsIvyhF7p1yGlM6/lines',
      },
      livemode: false,
      metadata: {},
      next_payment_attempt: null,
      number: null,
      on_behalf_of: null,
      paid: false,
      paid_out_of_band: false,
      payment_intent: null,
      payment_settings: {
        default_mandate: null,
        payment_method_options: null,
        payment_method_types: null,
      },
      period_end: 1726500184,
      period_start: 1726500184,
      post_payment_credit_notes_amount: 0,
      pre_payment_credit_notes_amount: 0,
      quote: null,
      receipt_number: null,
      rendering: {
        amount_tax_display: null,
        pdf: { page_size: 'auto' },
        template: null,
        template_version: null,
      },
      shipping_cost: null,
      shipping_details: null,
      starting_balance: 0,
      statement_descriptor: null,
      status: 'draft',
      status_transitions: {
        finalized_at: null,
        marked_uncollectible_at: null,
        paid_at: null,
        voided_at: null,
      },
      subscription: null,
      subscription_details: { metadata: null },
      subtotal: 2000,
      subtotal_excluding_tax: 2000,
      tax: null,
      test_clock: null,
      total: 2000,
      total_discount_amounts: [],
      total_excluding_tax: 2000,
      total_tax_amounts: [],
      transfer_data: null,
      webhooks_delivered_at: null,
    },
  },
  livemode: false,
  pending_webhooks: 2,
  request: {
    id: 'req_hRSDlJe0ipkwOU',
    idempotency_key: 'b71894ac-1883-4778-b63f-5c06dba812bf',
  },
  type: 'invoice.created',
} as const as Stripe.InvoiceCreatedEvent;

export const StripeInvoiceFinalizedEvent = {
  id: 'evt_1PzglZI1ADsIvyhF5bBngUKB',
  object: 'event',
  api_version: '2024-06-20',
  created: 1726500185,
  data: {
    object: {
      id: 'in_1PzglYI1ADsIvyhF7p1yGlM6',
      object: 'invoice',
      account_country: 'CA',
      account_name: 'staging.bottomti.me',
      account_tax_ids: null,
      amount_due: 2000,
      amount_paid: 0,
      amount_remaining: 2000,
      amount_shipping: 0,
      application: null,
      application_fee_amount: null,
      attempt_count: 0,
      attempted: false,
      auto_advance: true,
      automatic_tax: { enabled: false, liability: null, status: null },
      automatically_finalizes_at: null,
      billing_reason: 'manual',
      charge: null,
      collection_method: 'charge_automatically',
      created: 1726500184,
      currency: 'usd',
      custom_fields: null,
      customer: 'cus_QmXFUbI33k0i4V',
      customer_address: null,
      customer_email: null,
      customer_name: null,
      customer_phone: null,
      customer_shipping: null,
      customer_tax_exempt: 'none',
      customer_tax_ids: [],
      default_payment_method: null,
      default_source: null,
      default_tax_rates: [],
      description: '(created by Stripe CLI)',
      discount: null,
      discounts: [],
      due_date: null,
      effective_at: 1726500185,
      ending_balance: 0,
      footer: null,
      from_invoice: null,
      hosted_invoice_url:
        'https://invoice.stripe.com/i/acct_1PktwnI1ADsIvyhF/test_YWNjdF8xUGt0d25JMUFEc0l2eWhGLF9RclBhSjVsWUViQlBrTWo5ZHdPREtZNlpISHVXdGpOLDExNzA0MDk4NQ0200Rhcub439?s=ap',
      invoice_pdf:
        'https://pay.stripe.com/invoice/acct_1PktwnI1ADsIvyhF/test_YWNjdF8xUGt0d25JMUFEc0l2eWhGLF9RclBhSjVsWUViQlBrTWo5ZHdPREtZNlpISHVXdGpOLDExNzA0MDk4NQ0200Rhcub439/pdf?s=ap',
      issuer: { type: 'self' },
      last_finalization_error: null,
      latest_revision: null,
      lines: {
        object: 'list',
        data: [
          {
            id: 'il_1PzglYI1ADsIvyhFtaXxOcCc',
            object: 'line_item',
            amount: 2000,
            amount_excluding_tax: 2000,
            currency: 'usd',
            description: '(created by Stripe CLI)',
            discount_amounts: [],
            discountable: true,
            discounts: [],
            invoice: 'in_1PzglYI1ADsIvyhF7p1yGlM6',
            invoice_item: 'ii_1PzglYI1ADsIvyhFR7pND25H',
            livemode: false,
            metadata: {},
            period: { end: 1726500184, start: 1726500184 },
            plan: null,
            price: {
              id: 'price_1PzglYI1ADsIvyhFRTospYfY',
              object: 'price',
              active: false,
              billing_scheme: 'per_unit',
              created: 1726500184,
              currency: 'usd',
              custom_unit_amount: null,
              livemode: false,
              lookup_key: null,
              metadata: {},
              nickname: null,
              product: 'prod_QrPaGNTx3h9ko4',
              recurring: null,
              tax_behavior: 'unspecified',
              tiers_mode: null,
              transform_quantity: null,
              type: 'one_time',
              unit_amount: 2000,
              unit_amount_decimal: '2000',
            },
            proration: false,
            proration_details: { credited_items: null },
            quantity: 1,
            subscription: null,
            tax_amounts: [],
            tax_rates: [],
            type: 'invoiceitem',
            unit_amount_excluding_tax: '2000',
          },
        ],
        has_more: false,
        total_count: 1,
        url: '/v1/invoices/in_1PzglYI1ADsIvyhF7p1yGlM6/lines',
      },
      livemode: false,
      metadata: {},
      next_payment_attempt: 1726503784,
      number: 'B86347EC-0001',
      on_behalf_of: null,
      paid: false,
      paid_out_of_band: false,
      payment_intent: 'pi_3PzglZI1ADsIvyhF1imL5GYc',
      payment_settings: {
        default_mandate: null,
        payment_method_options: null,
        payment_method_types: null,
      },
      period_end: 1726500184,
      period_start: 1726500184,
      post_payment_credit_notes_amount: 0,
      pre_payment_credit_notes_amount: 0,
      quote: null,
      receipt_number: null,
      rendering: {
        amount_tax_display: null,
        pdf: { page_size: 'letter' },
        template: null,
        template_version: null,
      },
      shipping_cost: null,
      shipping_details: null,
      starting_balance: 0,
      statement_descriptor: null,
      status: 'open',
      status_transitions: {
        finalized_at: 1726500185,
        marked_uncollectible_at: null,
        paid_at: null,
        voided_at: null,
      },
      subscription: null,
      subscription_details: { metadata: null },
      subtotal: 2000,
      subtotal_excluding_tax: 2000,
      tax: null,
      test_clock: null,
      total: 2000,
      total_discount_amounts: [],
      total_excluding_tax: 2000,
      total_tax_amounts: [],
      transfer_data: null,
      webhooks_delivered_at: 1726500185,
    },
  },
  livemode: false,
  pending_webhooks: 2,
  request: {
    id: 'req_MB9ekX950Pdju4',
    idempotency_key: 'stripe-node-retry-3f087792-f56f-4227-a8e8-3dd4435e26fe',
  },
  type: 'invoice.finalized',
} as const as Stripe.InvoiceFinalizedEvent;

export const StripePaymentActionRequiredEvent = {
  id: 'evt_1Q00bNI1ADsIvyhFPauX0kMA',
  object: 'event',
  api_version: '2024-06-20',
  created: 1726576432,
  data: {
    object: {
      id: 'in_1Q00bII1ADsIvyhFGTvCiXNs',
      object: 'invoice',
      account_country: 'CA',
      account_name: 'staging.bottomti.me',
      account_tax_ids: null,
      amount_due: 2000,
      amount_paid: 0,
      amount_remaining: 2000,
      amount_shipping: 0,
      application: null,
      application_fee_amount: null,
      attempt_count: 1,
      attempted: true,
      auto_advance: true,
      automatic_tax: { enabled: false, liability: null, status: null },
      automatically_finalizes_at: null,
      billing_reason: 'manual',
      charge: 'ch_3Q00bKI1ADsIvyhF07dTqXAu',
      collection_method: 'charge_automatically',
      created: 1726576428,
      currency: 'usd',
      custom_fields: null,
      customer: 'cus_QmXFUbI33k0i4V',
      customer_address: null,
      customer_email: null,
      customer_name: null,
      customer_phone: null,
      customer_shipping: null,
      customer_tax_exempt: 'none',
      customer_tax_ids: [],
      default_payment_method: null,
      default_source: null,
      default_tax_rates: [],
      description: '(created by Stripe CLI)',
      discount: null,
      discounts: [],
      due_date: null,
      effective_at: 1726576429,
      ending_balance: 0,
      footer: null,
      from_invoice: null,
      hosted_invoice_url:
        'https://invoice.stripe.com/i/acct_1PktwnI1ADsIvyhF/test_YWNjdF8xUGt0d25JMUFEc0l2eWhGLF9Rcms1dUVjWUtDMWs5WXNMZko1QkQ5Z2VVZG02bHBXLDExNzExNzIzMw0200ELsgR1TV?s=ap',
      invoice_pdf:
        'https://pay.stripe.com/invoice/acct_1PktwnI1ADsIvyhF/test_YWNjdF8xUGt0d25JMUFEc0l2eWhGLF9Rcms1dUVjWUtDMWs5WXNMZko1QkQ5Z2VVZG02bHBXLDExNzExNzIzMw0200ELsgR1TV/pdf?s=ap',
      issuer: { type: 'self' },
      last_finalization_error: null,
      latest_revision: null,
      lines: {
        object: 'list',
        data: [
          {
            id: 'il_1Q00bHI1ADsIvyhFrx6CzPkM',
            object: 'line_item',
            amount: 2000,
            amount_excluding_tax: 2000,
            currency: 'usd',
            description: '(created by Stripe CLI)',
            discount_amounts: [],
            discountable: true,
            discounts: [],
            invoice: 'in_1Q00bII1ADsIvyhFGTvCiXNs',
            invoice_item: 'ii_1Q00bHI1ADsIvyhFRXR9szBt',
            livemode: false,
            metadata: {},
            period: { end: 1726576427, start: 1726576427 },
            plan: null,
            price: {
              id: 'price_1PzglYI1ADsIvyhFRTospYfY',
              object: 'price',
              active: false,
              billing_scheme: 'per_unit',
              created: 1726500184,
              currency: 'usd',
              custom_unit_amount: null,
              livemode: false,
              lookup_key: null,
              metadata: {},
              nickname: null,
              product: 'prod_QrPaGNTx3h9ko4',
              recurring: null,
              tax_behavior: 'unspecified',
              tiers_mode: null,
              transform_quantity: null,
              type: 'one_time',
              unit_amount: 2000,
              unit_amount_decimal: '2000',
            },
            proration: false,
            proration_details: { credited_items: null },
            quantity: 1,
            subscription: null,
            tax_amounts: [],
            tax_rates: [],
            type: 'invoiceitem',
            unit_amount_excluding_tax: '2000',
          },
        ],
        has_more: false,
        total_count: 1,
        url: '/v1/invoices/in_1Q00bII1ADsIvyhFGTvCiXNs/lines',
      },
      livemode: false,
      metadata: {},
      next_payment_attempt: null,
      number: '95E0708F-0001',
      on_behalf_of: null,
      paid: false,
      paid_out_of_band: false,
      payment_intent: 'pi_3Q00bKI1ADsIvyhF0AwJelg6',
      payment_settings: {
        default_mandate: null,
        payment_method_options: null,
        payment_method_types: null,
      },
      period_end: 1726576428,
      period_start: 1726576428,
      post_payment_credit_notes_amount: 0,
      pre_payment_credit_notes_amount: 0,
      quote: null,
      receipt_number: null,
      rendering: {
        amount_tax_display: null,
        pdf: { page_size: 'letter' },
        template: null,
        template_version: null,
      },
      shipping_cost: null,
      shipping_details: null,
      starting_balance: 0,
      statement_descriptor: null,
      status: 'open',
      status_transitions: {
        finalized_at: 1726576429,
        marked_uncollectible_at: null,
        paid_at: null,
        voided_at: null,
      },
      subscription: null,
      subscription_details: { metadata: null },
      subtotal: 2000,
      subtotal_excluding_tax: 2000,
      tax: null,
      test_clock: null,
      total: 2000,
      total_discount_amounts: [],
      total_excluding_tax: 2000,
      total_tax_amounts: [],
      transfer_data: null,
      webhooks_delivered_at: 1726576429,
    },
  },
  livemode: false,
  pending_webhooks: 2,
  request: {
    id: 'req_I6N8Brkl70326c',
    idempotency_key: 'ca129803-548b-4cb3-99db-2d54d011785e',
  },
  type: 'invoice.payment_action_required',
} as const as Stripe.InvoicePaymentActionRequiredEvent;

export const StripePaymentFailedEvent = {
  id: 'evt_1Q00doI1ADsIvyhFaDKUzh1r',
  object: 'event',
  api_version: '2024-06-20',
  created: 1726576584,
  data: {
    object: {
      id: 'in_1Q00dmI1ADsIvyhFa8zwR2JM',
      object: 'invoice',
      account_country: 'CA',
      account_name: 'staging.bottomti.me',
      account_tax_ids: null,
      amount_due: 2000,
      amount_paid: 0,
      amount_remaining: 2000,
      amount_shipping: 0,
      application: null,
      application_fee_amount: null,
      attempt_count: 1,
      attempted: true,
      auto_advance: false,
      automatic_tax: { enabled: false, liability: null, status: null },
      automatically_finalizes_at: null,
      billing_reason: 'manual',
      charge: 'ch_3Q00dnI1ADsIvyhF0YEWPmVj',
      collection_method: 'charge_automatically',
      created: 1726576582,
      currency: 'usd',
      custom_fields: null,
      customer: 'cus_QmXFUbI33k0i4V',
      customer_address: null,
      customer_email: null,
      customer_name: null,
      customer_phone: null,
      customer_shipping: null,
      customer_tax_exempt: 'none',
      customer_tax_ids: [],
      default_payment_method: null,
      default_source: null,
      default_tax_rates: [],
      description: '(created by Stripe CLI)',
      discount: null,
      discounts: [],
      due_date: null,
      effective_at: 1726576583,
      ending_balance: 0,
      footer: null,
      from_invoice: null,
      hosted_invoice_url:
        'https://invoice.stripe.com/i/acct_1PktwnI1ADsIvyhF/test_YWNjdF8xUGt0d25JMUFEc0l2eWhGLF9Rcms4S29HTUc2dWlRWFZBMHBJMEVBVnNUM0NvcldpLDExNzExNzM4NA0200JvbY3cQF?s=ap',
      invoice_pdf:
        'https://pay.stripe.com/invoice/acct_1PktwnI1ADsIvyhF/test_YWNjdF8xUGt0d25JMUFEc0l2eWhGLF9Rcms4S29HTUc2dWlRWFZBMHBJMEVBVnNUM0NvcldpLDExNzExNzM4NA0200JvbY3cQF/pdf?s=ap',
      issuer: { type: 'self' },
      last_finalization_error: null,
      latest_revision: null,
      lines: {
        object: 'list',
        data: [
          {
            id: 'il_1Q00dlI1ADsIvyhFJYlZiNgw',
            object: 'line_item',
            amount: 2000,
            amount_excluding_tax: 2000,
            currency: 'usd',
            description: '(created by Stripe CLI)',
            discount_amounts: [],
            discountable: true,
            discounts: [],
            invoice: 'in_1Q00dmI1ADsIvyhFa8zwR2JM',
            invoice_item: 'ii_1Q00dlI1ADsIvyhF8fPE43mk',
            livemode: false,
            metadata: {},
            period: { end: 1726576581, start: 1726576581 },
            plan: null,
            price: {
              id: 'price_1PzglYI1ADsIvyhFRTospYfY',
              object: 'price',
              active: false,
              billing_scheme: 'per_unit',
              created: 1726500184,
              currency: 'usd',
              custom_unit_amount: null,
              livemode: false,
              lookup_key: null,
              metadata: {},
              nickname: null,
              product: 'prod_QrPaGNTx3h9ko4',
              recurring: null,
              tax_behavior: 'unspecified',
              tiers_mode: null,
              transform_quantity: null,
              type: 'one_time',
              unit_amount: 2000,
              unit_amount_decimal: '2000',
            },
            proration: false,
            proration_details: { credited_items: null },
            quantity: 1,
            subscription: null,
            tax_amounts: [],
            tax_rates: [],
            type: 'invoiceitem',
            unit_amount_excluding_tax: '2000',
          },
        ],
        has_more: false,
        total_count: 1,
        url: '/v1/invoices/in_1Q00dmI1ADsIvyhFa8zwR2JM/lines',
      },
      livemode: false,
      metadata: {},
      next_payment_attempt: null,
      number: '53079AB0-0001',
      on_behalf_of: null,
      paid: false,
      paid_out_of_band: false,
      payment_intent: 'pi_3Q00dnI1ADsIvyhF0aOWgXYS',
      payment_settings: {
        default_mandate: null,
        payment_method_options: null,
        payment_method_types: null,
      },
      period_end: 1726576582,
      period_start: 1726576582,
      post_payment_credit_notes_amount: 0,
      pre_payment_credit_notes_amount: 0,
      quote: null,
      receipt_number: null,
      rendering: {
        amount_tax_display: null,
        pdf: { page_size: 'letter' },
        template: null,
        template_version: null,
      },
      shipping_cost: null,
      shipping_details: null,
      starting_balance: 0,
      statement_descriptor: null,
      status: 'open',
      status_transitions: {
        finalized_at: 1726576583,
        marked_uncollectible_at: null,
        paid_at: null,
        voided_at: null,
      },
      subscription: null,
      subscription_details: { metadata: null },
      subtotal: 2000,
      subtotal_excluding_tax: 2000,
      tax: null,
      test_clock: null,
      total: 2000,
      total_discount_amounts: [],
      total_excluding_tax: 2000,
      total_tax_amounts: [],
      transfer_data: null,
      webhooks_delivered_at: 1726576582,
    },
  },
  livemode: false,
  pending_webhooks: 2,
  request: {
    id: 'req_kXy39pp9mUH7rP',
    idempotency_key: '2ab4bbdf-2134-4c0f-aef0-8963cb69dca9',
  },
  type: 'invoice.payment_failed',
} as const as Stripe.InvoicePaymentFailedEvent;

export const StripeInvoicePaymentSucceededEvent = {
  id: 'evt_1Q00mII1ADsIvyhFcpX1uBc4',
  object: 'event',
  api_version: '2024-06-20',
  created: 1726577110,
  data: {
    object: {
      id: 'in_1Q00mGI1ADsIvyhFBVOuw1nf',
      object: 'invoice',
      account_country: 'CA',
      account_name: 'staging.bottomti.me',
      account_tax_ids: null,
      amount_due: 2000,
      amount_paid: 2000,
      amount_remaining: 0,
      amount_shipping: 0,
      application: null,
      application_fee_amount: null,
      attempt_count: 1,
      attempted: true,
      auto_advance: false,
      automatic_tax: { enabled: false, liability: null, status: null },
      automatically_finalizes_at: null,
      billing_reason: 'manual',
      charge: 'ch_3Q00mGI1ADsIvyhF0IL5YAli',
      collection_method: 'charge_automatically',
      created: 1726577108,
      currency: 'usd',
      custom_fields: null,
      customer: 'cus_QrkGj3ph2kW4hM',
      customer_address: null,
      customer_email: null,
      customer_name: null,
      customer_phone: null,
      customer_shipping: null,
      customer_tax_exempt: 'none',
      customer_tax_ids: [],
      default_payment_method: null,
      default_source: null,
      default_tax_rates: [],
      description: '(created by Stripe CLI)',
      discount: null,
      discounts: [],
      due_date: null,
      effective_at: 1726577108,
      ending_balance: 0,
      footer: null,
      from_invoice: null,
      hosted_invoice_url:
        'https://invoice.stripe.com/i/acct_1PktwnI1ADsIvyhF/test_YWNjdF8xUGt0d25JMUFEc0l2eWhGLF9RcmtHdHJOM2RxZXNRd29XTExNaDNpOFRVcGhIb1cyLDExNzExNzkxMA0200m8CkewkU?s=ap',
      invoice_pdf:
        'https://pay.stripe.com/invoice/acct_1PktwnI1ADsIvyhF/test_YWNjdF8xUGt0d25JMUFEc0l2eWhGLF9RcmtHdHJOM2RxZXNRd29XTExNaDNpOFRVcGhIb1cyLDExNzExNzkxMA0200m8CkewkU/pdf?s=ap',
      issuer: { type: 'self' },
      last_finalization_error: null,
      latest_revision: null,
      lines: {
        object: 'list',
        data: [
          {
            id: 'il_1Q00mFI1ADsIvyhFnAMMNk59',
            object: 'line_item',
            amount: 2000,
            amount_excluding_tax: 2000,
            currency: 'usd',
            description: '(created by Stripe CLI)',
            discount_amounts: [],
            discountable: true,
            discounts: [],
            invoice: 'in_1Q00mGI1ADsIvyhFBVOuw1nf',
            invoice_item: 'ii_1Q00mFI1ADsIvyhFHMAd5uFC',
            livemode: false,
            metadata: {},
            period: { end: 1726577107, start: 1726577107 },
            plan: null,
            price: {
              id: 'price_1PzglYI1ADsIvyhFRTospYfY',
              object: 'price',
              active: false,
              billing_scheme: 'per_unit',
              created: 1726500184,
              currency: 'usd',
              custom_unit_amount: null,
              livemode: false,
              lookup_key: null,
              metadata: {},
              nickname: null,
              product: 'prod_QrPaGNTx3h9ko4',
              recurring: null,
              tax_behavior: 'unspecified',
              tiers_mode: null,
              transform_quantity: null,
              type: 'one_time',
              unit_amount: 2000,
              unit_amount_decimal: '2000',
            },
            proration: false,
            proration_details: { credited_items: null },
            quantity: 1,
            subscription: null,
            tax_amounts: [],
            tax_rates: [],
            type: 'invoiceitem',
            unit_amount_excluding_tax: '2000',
          },
        ],
        has_more: false,
        total_count: 1,
        url: '/v1/invoices/in_1Q00mGI1ADsIvyhFBVOuw1nf/lines',
      },
      livemode: false,
      metadata: {},
      next_payment_attempt: null,
      number: '786BD461-0001',
      on_behalf_of: null,
      paid: true,
      paid_out_of_band: false,
      payment_intent: 'pi_3Q00mGI1ADsIvyhF0dt7jK1T',
      payment_settings: {
        default_mandate: null,
        payment_method_options: null,
        payment_method_types: null,
      },
      period_end: 1726577108,
      period_start: 1726577108,
      post_payment_credit_notes_amount: 0,
      pre_payment_credit_notes_amount: 0,
      quote: null,
      receipt_number: null,
      rendering: {
        amount_tax_display: null,
        pdf: { page_size: 'letter' },
        template: null,
        template_version: null,
      },
      shipping_cost: null,
      shipping_details: null,
      starting_balance: 0,
      statement_descriptor: null,
      status: 'paid',
      status_transitions: {
        finalized_at: 1726577108,
        marked_uncollectible_at: null,
        paid_at: 1726577108,
        voided_at: null,
      },
      subscription: null,
      subscription_details: { metadata: null },
      subtotal: 2000,
      subtotal_excluding_tax: 2000,
      tax: null,
      test_clock: null,
      total: 2000,
      total_discount_amounts: [],
      total_excluding_tax: 2000,
      total_tax_amounts: [],
      transfer_data: null,
      webhooks_delivered_at: 1726577108,
    },
  },
  livemode: false,
  pending_webhooks: 2,
  request: {
    id: 'req_DQIjwWSeQHwjun',
    idempotency_key: '3cfba1e9-4708-4426-808d-a7646b7ea81b',
  },
  type: 'invoice.payment_succeeded',
};
